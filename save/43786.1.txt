@0


@1
 S: MOV UP, ACC
SAV
SUB RIGHT
JGZ GZ
MOV RIGHT, ACC
SWP
 N: MOV ACC, RIGHT
SWP
MOV ACC, RIGHT
JMP S
 GZ:MOV RIGHT,ACC
JMP N

@2
 S: MOV UP, ACC
MOV ACC, LEFT
MOV ACC, LEFT #SRT
MOV LEFT, ACC
MOV ACC, DOWN
SAV
MOV LEFT, ACC
SWP # ACC=REP
 TST: JEZ S
SUB 1
SWP
MOV ACC, DOWN
SWP
JMP TST

@3


@4
MOV RIGHT, RIGHT

@5
 S: MOV UP, ACC
MOV 0, LEFT
 T: SAV #ACC=REP
JEZ F
MOV LEFT, ACC
ADD UP
MOV ACC, LEFT
SWP
SUB 1
SAV
JMP T
 F: MOV LEFT,DOWN

@6


@7
MOV UP, DOWN

@8
