@0
MOV UP ACC
JGZ NXT
 L: MOV NIL DOWN
JMP L
NXT: MOV ACC RIGHT

@1
MOV 10 ACC
SUB UP
MOV ACC DOWN

@2
MOV UP RIGHT

@3
MOV LEFT NIL #SNC
MOV RIGHT ACC
JGZ MDWN
 MUP: JEZ UDN
MOV DOWN UP
ADD 1
JMP MUP
 MDWN: JEZ DDN
MOV UP DOWN
SUB 1
JMP MDWN
UDN: MOV UP ACC
JMP F
DDN: MOV DOWN ACC
F: MOV ACC LAST

@4
MOV UP ACC
SAV
SUB RIGHT
MOV ACC LEFT
#MOV ACC DOWN
SWP
MOV ACC RIGHT
# MOV LEFT DOWN

@5
MOV 0 LEFT
 L: MOV LEFT LEFT
JMP L

@6
 S: MOV RIGHT ACC
 MTB: JLZ REV
MOV UP DOWN
SUB 1 # UP->DOWN
JMP MTB
 REV:MOV UP ACC
MOV ACC RIGHT
MOV ACC UP
MOV RIGHT ACC
 MBT: JGZ S
MOV DOWN UP
SUB 1 # UP<-DOWN
JMP MBT

@7
MOV UP DOWN

@8
